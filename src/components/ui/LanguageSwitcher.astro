---
import { getLangFromUrl, getAlternateLocale, languages } from '@i18n/index';

const lang = getLangFromUrl(Astro.url);
const alternateLang = getAlternateLocale(lang);

// Build alternate language URL
const pathname = Astro.url.pathname;
const alternateUrl = pathname.replace(`/${lang}/`, `/${alternateLang}/`).replace(`/${lang}`, `/${alternateLang}`) || `/${alternateLang}`;
---

<a
  href={alternateUrl}
  class="inline-flex h-10 items-center justify-center rounded-lg px-3 text-sm font-medium text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800"
  aria-label={`Switch to ${languages[alternateLang]}`}
>
  {languages[alternateLang]}
</a>
